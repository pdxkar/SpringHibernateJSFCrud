<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
      

<h:head>
	<title>Welcome to Java Beat  for seeing PrimeFaces_Spring_Hibernate_Project</title>
	<script src="js/index.js" type="text/javascript"></script>
</h:head>
<h:body>

    <h:form>
    <p>Guest List</p>
        <table>
		   <ui:repeat var="g" value="#{guestMB.getGuestList()}" varStatus="status">
			<tr>
				<td>#{g.name}</td>
				<td>#{g.surname}</td>
				<td><h:button value="Update" outcome="update.xhtml?id=#{g.id}" /></td>
				<td><p:commandButton id="deleteUser" value="Remove" action="#{guestMB.deleteGuest(g.id)}" ajax="false"/></td>   
			</tr>

		   </ui:repeat>
        </table>
    </h:form>
    <h:form>
        <table>     
            <tr>
                <td><h:outputLabel for="name" value="Name : " /></td>
                <td><p:inputText id="name" value="#{guestMB.name}">
                    <f:validateLength minimum="1" />
                </p:inputText>
                    <p:message id="nameMsg" for="name" display="icon"/>
                </td>
            </tr>
            <tr>
                <td><h:outputLabel for="surname" value="Surname : " /></td>
                <td><p:inputText id="surname" value="#{guestMB.surname}">
                    <f:validateLength minimum="1" />
                </p:inputText>
                    <p:message id="surnameMsg" for="surname" display="icon"/>
                </td>
            </tr>

        </table>
        <p:commandButton id="addUser" value="Sign The Guestbook!" action="#{guestMB.addGuest()}" ajax="false"/>
    </h:form>
</h:body>
</html> 